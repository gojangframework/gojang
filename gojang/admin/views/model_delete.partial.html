{{define "title"}}Delete Confirmation - Admin{{end}}

{{define "head"}}
<meta name="robots" content="noindex, nofollow">
{{end}}

{{define "content"}}
{{$config := .Data.Config}}
{{$record := .Data.Record}}
{{$modelNameLower := $config.Name | lower}}
{{$page := .Data.Page}}
{{$perPage := .Data.PerPage}}

<div class="admin-modal-overlay" onclick="closeDeleteModal()">
    <div class="admin-modal-content" onclick="event.stopPropagation()">
        <div class="admin-modal-header">
            <h2>⚠️ Confirm Delete</h2>
            <button class="admin-modal-close" onclick="closeDeleteModal()">×</button>
        </div>
        
    <div class="admin-modal-body">
            <p>Are you sure you want to delete this {{$config.Name | lower}}?</p>
            
            <div class="record-details">
                {{range $config.ListFields}}
                <div class="detail-row">
                    <span class="detail-label">{{.}}:</span>
                    <span class="detail-value">{{fieldValue $record .}}</span>
                </div>
                {{end}}
            </div>
            
            <p class="admin-warning-text">This action cannot be undone.</p>
        </div>
        
        <div class="admin-modal-actions">
            <button 
                hx-delete="/admin/{{$modelNameLower}}/{{getID $record}}?page={{$page}}&per_page={{$perPage}}"
                hx-target="#{{$modelNameLower}}-list"
                hx-swap="innerHTML"
                hx-on:htmx:after-request="closeDeleteModal()"
                class="admin-btn-danger">
                Delete {{$config.Name}}
            </button>
            <button onclick="closeDeleteModal()" class="admin-btn-secondary">Cancel</button>
        </div>
    </div>
</div>

<script>
function closeDeleteModal() {
    document.getElementById('delete-modal').innerHTML = '';
}

// Close on Escape key
document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') {
        closeDeleteModal();
    }
});
</script>

<!-- admin styles moved to /admin/static/css/admin.css -->
{{end}}